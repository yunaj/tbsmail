(function(n){n(["jquery"],function(n){function ft(n){t.modal(d).find(".modal-content").append(n)}function tt(){u=null;c.length=0}function a(n){return typeof n=="function"}function it(t){var f,e,o,i,u,r;if(t===!1)return"";if(f=n(h).addClass("modal-footer").prop("id",ut),t)for(e=0,o=t.length;e<o;e++){i=t[e];u=n("<button>").addClass("btn btn-"+(i.style||"info"));for(r in i)if(i.hasOwnProperty(r))switch(r){case"close":i[r]&&u.attr("data-dismiss","modal").addClass("x");break;case"click":u.click(i.click);break;case"text":u.html(i[r]);break;default:u.attr(r,i[r])}f.append(u)}else f.append('<button class="x btn btn-info" data-dismiss=modal type=button>Close<\/button>');return f}function et(t){var r,u=t.loading?i.loadingHtml:t.message||t;return u.on||u.onclick?(r=t.clone===!0?n(u).clone():n(u),r.addClass(t.useBin&&!t.loading?w:nt)):r=n(h).addClass(p).html(u),t.css&&t.css!==r.css&&r.css(t.css),r}function ot(){function i(){return n('<div class="modal fade" tabindex="-1"><div class=modal-dialog><div class=modal-content> <div class=modal-header><button type=button class="x close" data-dismiss=modal><span aria-hidden=true>&times;<\/span><span class=sr-only>Close<\/span><\/button><h4 class=modal-title><\/h4><\/div><\/div><\/div><\/div>').on("hidden.bs.modal",rt).on("click","button.x",function(i){var r=n(i.currentTarget);if(r.prop("type")!=="submit")return t.modal("hide");try{if(r.closest("form")[0].checkValidity())return o()}catch(u){return o()}return t})}return t||(document.getElementById(s)||n("body").append(n(h).prop("id",s).hide()),t=i(),l.element=t),t}function rt(){if(!t)return t;var n=t.find("."+w).removeClass(w).appendTo("#"+s);return t.off(y).off(b).find(".modal-content > div:not(:first-child)").remove(),tt(),(!i.allowContentRecycle||k.clone)&&n.remove(),t}function st(t,r){if(!t)throw new Error("Invalid parameters!");rt();k=t;var u=ot();u.find(".modal-dialog").removeClass("modal-sm modal-lg").addClass(t.size?"modal-"+t.size:i.size);u.find(".modal-title").html((t.title||r||i.title)+" ").append(n("<small>").html(t.subtitle||""));u.on(y,t.onHide);return u}function ht(n){a(n)&&(u=n)}function ct(n,t){if(a(n)){var i={error:t,success:n};c.push(i)}return l}function r(n){var i=c.shift(),u;if(i)try{return u=i.success(n||t),r(u)}catch(f){v(f,i)}return n}function v(n,t){t||(t=c.shift());t&&a(t.error)&&t.error(n);a(u)&&(u(n),u=null);tt()}function lt(u,f){function s(n,i){var u=i==="error",f;t.on(b,u?v:r);u&&(f='<div class="alert alert-danger"><strong>XHR Fail: <\/strong>Url [ '+o.url+"] load fail.<\/div>",t.find("."+p).html(f))}var o={async:!0,loading:!0,title:u.title||f||i.title,url:u.url||u};return u.url&&n.extend(o,u),e(o,f).element.find("."+p).load(o.url,s),l}function e(i,u){st(i,u);var f=n(h).append(et(i),it(i.buttons));if(ft(f),!i.async)t.on(b,r);return l}function at(t,u){function s(t){o();var i=n(t.currentTarget).html();return f[i]?r():v()}return e({async:!0,buttons:[{close:!0,click:s,text:f[t.label]?f[t.label]:f[i.confirmLabel],style:"danger"},{close:!0,click:s,text:f[t.label]?t.label:i.confirmLabel}],message:t.message||t,onHide:s,size:t.size,title:t.title||u})}function vt(t,u){function s(){return n(this).parent().find("div."+nt).fadeOut(function(){n(this).remove()}),r()}var f='<div class=modal-body style="position: absolute;width: 100%;background-color: rgba(255,255,255,0.8);height: 100%;">%1%<\/div><iframe class="embed-responsive-item" src="%0%" style="width:100%;height:75vh;"/>'.replace("%0%",t.message||t.url||t).replace("%1%",i.loadingHtml),o=n(f).load(s);return e({async:!0,buttons:t.buttons||!1,message:o,size:t.size||g.lg,title:t.title||u})}function yt(){return n("#"+s+" > *").remove()}function pt(i,u){function a(n){var i=t.find("input").val();return o(),n.type!=="submit"?v(i):r(i),!1}var f={},s,h,c,l;if(typeof i=="object"?n.extend(f,i):(f.message=i,f.title=u),f.async=!0,f.buttons)for(h=0,c=f.buttons.length;h<c;h++)s=f.buttons[h],s.style=(s.style||"default")+" pull-left",s.type=s.type||"button";return l=it([{close:!0,type:"reset",text:"Cancel",style:"danger"},{close:!1,type:"submit",text:"OK"}].concat(f.buttons||[])),f.buttons=!1,f.onHide=a,f.message=n('<form role=form style="margin-bottom:0;"><div class=modal-body><label for=prompt-input class=control-label>'+(f.message||"")+'<\/label><input type=text class=form-control id=prompt-input required autofocus value="'+(f.value||"")+(f.pattern?'" pattern="'+f.pattern:"")+'"><\/div><\/form>').append(l).on("submit",a),e(f)}function wt(t){return n.extend(i,t)}function bt(i){return t&&t.remove(),n.extend(d,i)}function o(){return t&&t.off(y).modal("hide"),t}var i={allowContentRecycle:!0,confirmLabel:"OK",size:"",loadingHtml:'<h5>Loading...<\/h5><div class=progress><div class="progress-bar progress-bar-striped active" style="width: 100%"><\/div><\/div>',title:"Attention"},t,s="recycle-bin",u,h='<div style="position:relative;word-wrap:break-word;">',ut="eModalFooter",y="hide.bs.modal",f={OK:"Cancel",True:"False",Yes:"No"},k={},p="modal-body",d={},w="rec-modal-content",b="shown.bs.modal",g={sm:"sm",lg:"lg"},c=[],nt="tmp-modal-content",l={"catch":ht,element:t,then:ct};return{ajax:lt,alert:e,close:o,confirm:at,emptyBin:yt,iframe:vt,prompt:pt,setEModalOptions:wt,setModalOptions:bt,size:g,version:"1.2.1"}})})(typeof define=="function"&&define.amd?define:function(n,t){typeof module!="undefined"&&window.module.exports?window.module.exports=t(window.require(n[0])):window.eModal=t(window.jQuery)});
//# sourceMappingURL=eModal.min.js.map
